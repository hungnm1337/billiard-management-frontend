<app-header></app-header>
<div class="max-w-md mx-auto mt-10 bg-white shadow-lg rounded-lg p-8">
  <h2 class="text-2xl font-bold text-center text-green-900 mb-6">Đăng ký tài khoản</h2>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate class="max-w-md mx-auto mt- 1 bg-white p-8 rounded shadow space-y-6">
  <div>
    <label class="block mb-1 font-semibold text-gray-700">Họ tên</label>
    <input type="text" formControlName="name"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400
      transition invalid:border-red-500"
       />
    @if (submitted && f['name'].errors) {
          @if (submitted && f['name'].errors['required']) {
          <p class="mt-1 text-sm text-red-500" >Họ tên không được bỏ trống</p>
        }
          @if (submitted && f['name'].errors['pattern']) {
          <p class="mt-1 text-sm text-red-500" >Họ tên không được có số hoặc ký tự đặc biệt</p>
        }
    }


  </div>

  <div>
    <label class="block mb-1 font-semibold text-gray-700">Username</label>
    <input type="text" formControlName="username"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400
      transition invalid:border-red-500"
      placeholder="user1" />
    @if (submitted && f['username'].errors) {
      @if (f['username'].errors['required']) {
        <p class="mt-1 text-sm text-red-500" >Username không được bỏ trống</p>
      }
      @if (f['username'].errors['minlength']) {
        <p class="mt-1 text-sm text-red-500" >Username phải trên 6 ký tự</p>
      }
      @if (f['username'].errors['pattern']) {
        <p class="mt-1 text-sm text-red-500" >Username không được chứa ký tự đặc biệt</p>
      }
    }
     @if (errorMessage) {
    <div class="mb-4 p-3 bg-red-100 text-red-700 rounded">{{ errorMessage }}</div>
  }
  @if (successMessage) {
    <div class="mb-4 p-3 bg-green-100 text-green-700 rounded">{{ successMessage }}</div>
  }
  </div>

  <div>
    <label class="block mb-1 font-semibold text-gray-700">Password</label>
    <input type="password" formControlName="password"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400
      transition invalid:border-red-500"
      placeholder="********" />
    @if (submitted && f['password'].errors) {
      @if (f['password'].errors['required']) {
        <p class="mt-1 text-sm text-red-500" >Password không được bỏ trống</p>
      }
      @if (f['password'].errors['minlength']) {
        <p class="mt-1 text-sm text-red-500" >Password phải từ 8 ký tự</p>
      }
    }
  </div>

  <div>
    <label class="block mb-1 font-semibold text-gray-700">Ngày sinh</label>
    <input type="date" formControlName="dob"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400
      transition invalid:border-red-500" />
    @if (submitted && f['dob'].errors) {
      @if (f['dob'].errors['required']) {
              <p class="mt-1 text-sm text-red-500">Ngày sinh không được bỏ trống</p>
      }
      @if (f['dob'].errors['invalidDob']) {
              <p class="mt-1 text-sm text-red-500">Ngày sinh phải trước ngày hiện tại</p>
      }
    }
  </div>

  <button type="submit"
    class="w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 transition font-semibold">
    Đăng ký
  </button>
</form>

</div>
